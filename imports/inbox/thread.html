<template name="ThreadHeader">
  {{> InboxBackButton}}
  {{#if showDetails}}{{> InboxSidebarButton}}{{/if}}

  <div class="thread-subject">{{detailTitle}}</div>
</template>

<template name="ThreadMenu">
  <div class="btn-group btn-group-justified" role="group" aria-label="...">
    {{#each actions}}
      <a href="#" class="btn btn-default btn-action">
        {{#if icon}}<i class="{{icon}} text-muted"></i>{{/if}}
        <span class="text-muted">{{title}}</span>
      </a>
    {{/each}}
  </div>
</template>

<template name="Thread">
  {{#if actions.length}}
    {{> ThreadMenu}}
  {{/if}}
  {{#if isReplyable}}
    {{> MessageForm thread=this options=true}}
  {{else}}
    <div class="text-muted text-center" style="padding:10px;">
      <span>此邮件无需回复</span>
    </div>
  {{/if}}

  <div class="messages">
    {{#each messages}}
      {{> Message}}
    {{/each}}
    {{#if ready}}
      {{#if hasMore}}
        <div class="message text-center">
          <a href="#" class="text-muted small btn-load-more">
            {{_ "Load More"}}
          </a>
        </div>
      {{/if}}
    {{else}}
      <div class="message text-center">
        <i class="fa fa-spinner fa-spin text-muted small"></i>
      </div>
    {{/if}}
  </div>
</template>
