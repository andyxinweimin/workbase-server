<template name="Channels">
  {{#contentFor "menu"}}
    {{> ChannelMenu}}
  {{/contentFor}}

  {{#contentFor "title"}}
    <p class="navbar-text" style="color: white; font-weight: 600;">{{channel.address}}</p>
  {{/contentFor}}

  {{#if thread}}
    {{#if detail}}
      {{#Layout template="InboxLayout"}}
        {{> ThreadList threads=threads thread=thread}}

        {{#contentFor "header"}}
          {{> ThreadHeader thread}}
        {{/contentFor}}

        {{#contentFor "right"}}
          {{> Thread thread}}
        {{/contentFor}}

        {{#contentFor "sidebar"}}
          {{> ThreadDetail thread}}
        {{/contentFor}}
      {{/Layout}}
    {{else}}
      {{#Layout template="InboxLayout"}}
        {{> ThreadList threads=threads thread=thread}}

        {{#contentFor "header"}}
          {{> ThreadHeader thread}}
        {{/contentFor}}

        {{#contentFor "right"}}
          {{> Thread thread}}
        {{/contentFor}}
      {{/Layout}}
    {{/if}}
  {{else}}
    {{#Layout template="InboxLayout"}}
      {{> ThreadList threads=threads}}
    {{/Layout}}
  {{/if}}
</template>

<template name="ChannelMenu">
  {{#if currentUser.isAdmin}}
    <ul class="dropdown-menu" role="menu">
      <li><a href="#" id="btn-edit-channel"><i class="fa fa-edit"></i> Edit Channel</a></li>
      <li class="divider"></li>
      <li><a href="#" id="btn-add-channel"><i class="fa fa-plus"></i> Add Channel</a></li>
    </ul>
  {{/if}}
</template>

<template name="ChannelMenuItems">
  {{#each channels}}
    <li class="{{#if isChannel _id}}active{{/if}}">
      <a href="/channels/{{_id}}"><i class="fa fa-slack"></i> <span>{{name}}</span></a>
    </li>
  {{/each}}
</template>
